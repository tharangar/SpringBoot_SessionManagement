<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Spring Boot Session Management Redis Example</title>
</head>
<body>
	<div>
		<form th:action="@{http://localhost:8081/addNote}" method="post">
			<textarea name="note" cols="40" rows="2"></textarea>
			<br> <input type="submit" value="Add Note" />
		</form>
	</div>
	<div>
		<form th:action="@{http://localhost:8081/invalidate/session}"
			method="post">
			<input type="submit" value="Destroy Session" />
		</form>
	</div>
	<div>
		<h2>Notes</h2>
		<ul th:each="note : ${notesSession}">
			<li th:text="${note}">note</li>
		</ul>
	</div>


	<form action="#" 
		method="post">
		<label for="name">Name</label> <input type="text" th:field="*{name}"
			id="name" placeholder="Name"> <span
			th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span> <label
			for="email">Email</label> <input type="text" th:field="*{email}"
			id="email" placeholder="Email"> <span
			th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span> <input
			type="submit" value="Add User">
	</form>


	<form action="#" " method="post">
		<label for="name">Name</label> <input type="text" th:field="*{name}"
			id="name" placeholder="Name"> <span
			th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span> <label
			for="email">Email</label> <input type="text" th:field="*{email}"
			id="email" placeholder="Email"> <span
			th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span> <input
			type="submit" value="Update User">
	</form>


	<div th:switch="${users}">
		<h2 th:case="null">No users yet!</h2>
		<div th:case="*">
			<h2>Users</h2>
			<table>
				<thead>
					<tr>
						<th>Name</th>
						<th>Email</th>
						<th>Edit</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="user : ${users}">
						<td th:text="${user.name}"></td>
						<td th:text="${user.email}"></td>
						<td><a th:href="@{/edit/{id}(id=${user.id})}">Edit</a></td>
						<td><a th:href="@{/delete/{id}(id=${user.id})}">Delete</a></td>
					</tr>
				</tbody>
			</table>
		</div>
		<p>
			<a href="/signup">Add a new user</a>
		</p>
	</div>




</body>
</html>